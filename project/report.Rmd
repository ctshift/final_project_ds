---
title: "Nuclear Power"
author: "Joseph Weiner"
---

```{r}
library(tidyverse)
library(lubridate)
```
## Importing the dataframe

```{r}
nuclear_power <- read.csv('data/nuclear_power_generation_total.csv', check.names = F)
```
The dataframe required lots of editing by hand- numbers were listed in shorthand form (ie. 1.09M, 135K, etc.) 130~ manual queries had to be done in order to convert the entire frame to  usable values.

```{r}
nuclear_power <- nuclear_power %>% 
  pivot_longer(c(2:53),
  names_to = "Year",
  values_to = "Tonnes of oil equivalent"
  ) 
```
Changing the format of the dataframe so that it is in "tidy" format.

```{r}
nuclear_power <- nuclear_power %>% 
   rename(Country = 'ï»¿Country')
```
Adjusting the name of the country column- the `read.csv()` function corrupts the column name for an unknown reason.

```{r}
nuclear_power$Year <- as.numeric(nuclear_power$Year)
nuclear_power$`Tonnes of oil equivalent` <- as.numeric(nuclear_power$`Tonnes of oil equivalent`)
sapply(nuclear_power, class)
```
Ensuring columns are enumerated correctly.

```{r}
nuclear_power %>% 
  filter(Country == 'UnitedStates') %>% 
  ggplot() +
  geom_line(x = 'Year', y = 'Tonnes of oil equivalent')
```
